{"ast":null,"code":"import combineReducers from \"react-combine-reducers\";\nexport const usersReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN_SUCCESS\":\n      const user = action.payload;\n      return {\n        user,\n        loggedIn: true\n      };\n\n    case \"FACK_USER\":\n      return {\n        user: action.payload,\n        loggedIn: false\n      };\n\n    case \"LOGOUT_USER\":\n      return action.payload;\n\n    case \"PASS_WRONG\":\n      return action.payload;\n\n    case \"EMAIL_WRONG\":\n      return action.payload;\n\n    case \"GET_USER_LOCAL\":\n      return action.payload;\n\n    default:\n      return state;\n  }\n};\nexport const productsReducer = (state, action) => {\n  switch (action.type) {\n    case \"FATCH_SUCCESS\":\n      return action.payload;\n\n    case \"SEARCH_DATA\":\n      return action.payload;\n\n    default:\n      return state;\n  }\n};\nexport const likesReducer = (state, action) => {\n  switch (action.type) {\n    case \"ADD_LIKE\":\n      console.log(\"likeProduct\", action.payload.likes);\n      const hasLike = action.payload.likes.some(item => item === action.payload.likeProduct);\n      console.log(\"hasLike\", hasLike);\n\n      if (hasLike) {\n        console.log(\"state\", state);\n        return true;\n      } else {\n        return false;\n      }\n\n    default:\n      return state;\n  }\n};\nexport const discountsReducer = (state, action) => {\n  switch (action.type) {\n    case \"FATCH_SUCCESS_DISCOUNTS\":\n      return action.payload;\n\n    case \"GET_DISCOUNTS_LOCAL\":\n      return action.payload;\n\n    default:\n      return state;\n  }\n};\nexport const recentReducer = (state, action) => {\n  switch (action.type) {\n    case \"RECENT_ITEM\":\n      const hasItem = state.some(el => el._id === action.payload._id);\n\n      if (!hasItem) {\n        const recent = [...state, action.payload];\n        return recent;\n      } else {\n        return state;\n      }\n\n    case \"GET_RECENT_LOCAL\":\n      return action.payload;\n\n    case \"DELETE_ITEM_RECENT\":\n      return state.filter(el => el._id !== action.payload._id);\n\n    default:\n      return state;\n  }\n};\nexport const watchReducer = (state, action) => {\n  switch (action.type) {\n    case \"WATCH_ITEM\":\n      const hasItem = state.some(el => el._id === action.payload._id);\n\n      if (!hasItem) {\n        const watch = [...state, action.payload];\n        return watch;\n      } else {\n        return state.filter(el => el._id !== action.payload._id);\n      }\n\n    case \"GET_WATCH_LOCAL\":\n      return action.payload;\n\n    case \"DELETE_ITEM\":\n      return state.filter(el => el._id !== action.payload._id);\n\n    default:\n      return state;\n  }\n};\nexport const basketReducer = (state = {\n  total: 0,\n  items: []\n}, action) => {\n  switch (action.type) {\n    case \"ADD_ITEM\":\n      const hasItem = state.items.some(el => el._id === action.payload._id);\n\n      if (hasItem) {\n        // update item\n        const updateItem = state.items.map(el => {\n          if (el._id === action.payload._id) {\n            return { ...el,\n              quantity: el.quantity + action.payload.quantity\n            };\n          }\n\n          return el; // <-- return current mapped element if no change\n        });\n        const totalPrice = totalprice(updateItem);\n        return { ...state,\n          items: updateItem,\n          total: totalPrice\n        };\n      } else {\n        // add item\n        const item = [...state.items, action.payload];\n        const totalPrice = totalprice(item);\n        return { ...state,\n          items: state.items.concat(action.payload),\n          total: totalPrice,\n          userId: action.payload.userId\n        };\n      }\n\n    case \"INCROMENT\":\n      const updateItems = state.items.map(el => {\n        if (el._id === action.payload._id) {\n          return { ...el,\n            quantity: el.quantity + 1\n          };\n        }\n\n        return el;\n      });\n      const totalsupdateItem = totalprice(updateItems);\n      return {\n        items: updateItems,\n        total: totalsupdateItem\n      };\n\n    case \"DECROMENT\":\n      const updateItemsminus = state.items.map(el => {\n        if (el._id === action.payload._id) {\n          if (el.quantity > 1) {\n            return { ...el,\n              quantity: el.quantity - 1\n            };\n          }\n        }\n\n        return el;\n      });\n      const totalsupdateItemminus = totalprice(updateItemsminus);\n      return {\n        items: updateItemsminus,\n        total: totalsupdateItemminus\n      };\n\n    case \"GET_BASKET_LOCAL\":\n      console.log(\"local\", action.payload);\n      return action.payload;\n\n    case \"DELETE_ITEM\":\n      const deleteiTEM = state.items.filter(el => el._id !== action.payload._id);\n      const totalPriceD = totalprice(deleteiTEM);\n      return { ...state,\n        items: deleteiTEM,\n        total: totalPriceD\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst totalprice = item => {\n  var totals = 0;\n  item.forEach(el => {\n    totals += el.quantity * el.price;\n  });\n  return totals;\n};\n\nexport const productReducer = (state, action) => {\n  switch (action.type) {\n    case \"FATCH_SUCCESS_ITEM\":\n      const data = action.payload;\n      return { ...data,\n        quantity: 1\n      };\n\n    case \"INCROMENT_ITEM\":\n      return { ...state,\n        quantity: state.quantity + 1\n      };\n\n    case \"DECROMENT_ITEM\":\n      if (state.quantity > 1) {\n        return { ...state,\n          quantity: state.quantity - 1\n        };\n      } else {\n        return { ...state,\n          quantity: state.quantity\n        };\n      }\n\n    case \"DELETE_ITEM\":\n      return action.payload;\n\n    case \"UPDATE_ITEM\":\n      return action.payload;\n\n    default:\n      return state;\n  }\n};\nexport const [profileReducer, initialProfile] = combineReducers({\n  user: [usersReducer, {}],\n  products: [productsReducer, []],\n  discounts: [discountsReducer, []],\n  watch: [watchReducer, []],\n  recent: [recentReducer, []],\n  product: [productReducer, []],\n  like: [likesReducer, false],\n  basket: [basketReducer, {\n    items: [],\n    total: 0\n  }]\n});","map":{"version":3,"sources":["/Users/noureddinnasrallah/Documents/online-shop-frontend/src/components/reducers/reducer.js"],"names":["combineReducers","usersReducer","state","action","type","user","payload","loggedIn","productsReducer","likesReducer","console","log","likes","hasLike","some","item","likeProduct","discountsReducer","recentReducer","hasItem","el","_id","recent","filter","watchReducer","watch","basketReducer","total","items","updateItem","map","quantity","totalPrice","totalprice","concat","userId","updateItems","totalsupdateItem","updateItemsminus","totalsupdateItemminus","deleteiTEM","totalPriceD","totals","forEach","price","productReducer","data","profileReducer","initialProfile","products","discounts","product","like","basket"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,wBAA5B;AAEA,OAAO,MAAMC,YAAY,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC7C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,eAAL;AACE,YAAMC,IAAI,GAAGF,MAAM,CAACG,OAApB;AACA,aAAO;AACLD,QAAAA,IADK;AAELE,QAAAA,QAAQ,EAAE;AAFL,OAAP;;AAIF,SAAK,WAAL;AACE,aAAO;AACLF,QAAAA,IAAI,EAAEF,MAAM,CAACG,OADR;AAELC,QAAAA,QAAQ,EAAE;AAFL,OAAP;;AAIF,SAAK,aAAL;AACE,aAAOJ,MAAM,CAACG,OAAd;;AACF,SAAK,YAAL;AACE,aAAOH,MAAM,CAACG,OAAd;;AACF,SAAK,aAAL;AACE,aAAOH,MAAM,CAACG,OAAd;;AACF,SAAK,gBAAL;AACE,aAAOH,MAAM,CAACG,OAAd;;AACF;AACE,aAAOJ,KAAP;AArBJ;AAuBD,CAxBM;AA0BP,OAAO,MAAMM,eAAe,GAAG,CAACN,KAAD,EAAQC,MAAR,KAAmB;AAChD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,eAAL;AACE,aAAOD,MAAM,CAACG,OAAd;;AACF,SAAK,aAAL;AACE,aAAOH,MAAM,CAACG,OAAd;;AACF;AACE,aAAOJ,KAAP;AANJ;AAQD,CATM;AAWP,OAAO,MAAMO,YAAY,GAAG,CAACP,KAAD,EAASC,MAAT,KAAoB;AAC9C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,UAAL;AACEM,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BR,MAAM,CAACG,OAAP,CAAeM,KAA1C;AACA,YAAMC,OAAO,GAAGV,MAAM,CAACG,OAAP,CAAeM,KAAf,CAAqBE,IAArB,CAA2BC,IAAD,IAAUA,IAAI,KAAKZ,MAAM,CAACG,OAAP,CAAeU,WAA5D,CAAhB;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBE,OAAvB;;AACA,UAAIA,OAAJ,EAAa;AACTH,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBT,KAArB;AACA,eAAO,IAAP;AACD,OAHH,MAGS;AACL,eAAO,KAAP;AACD;;AACL;AACE,aAAOA,KAAP;AAZJ;AAcD,CAfM;AAkBP,OAAO,MAAMe,gBAAgB,GAAG,CAACf,KAAD,EAAQC,MAAR,KAAmB;AACjD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,yBAAL;AACE,aAAOD,MAAM,CAACG,OAAd;;AACA,SAAK,qBAAL;AACE,aAAOH,MAAM,CAACG,OAAd;;AACJ;AACE,aAAOJ,KAAP;AANJ;AAQD,CATM;AAWP,OAAO,MAAMgB,aAAa,GAAG,CAAChB,KAAD,EAAQC,MAAR,KAAmB;AAC9C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,aAAL;AACE,YAAMe,OAAO,GAAGjB,KAAK,CAACY,IAAN,CAAYM,EAAD,IAAQA,EAAE,CAACC,GAAH,KAAWlB,MAAM,CAACG,OAAP,CAAee,GAA7C,CAAhB;;AACA,UAAI,CAACF,OAAL,EAAc;AACZ,cAAMG,MAAM,GAAG,CAAC,GAAGpB,KAAJ,EAAWC,MAAM,CAACG,OAAlB,CAAf;AACA,eAAOgB,MAAP;AACD,OAHD,MAGO;AACL,eAAOpB,KAAP;AACD;;AACH,SAAK,kBAAL;AACE,aAAOC,MAAM,CAACG,OAAd;;AACF,SAAK,oBAAL;AACE,aAAOJ,KAAK,CAACqB,MAAN,CAAcH,EAAD,IAAQA,EAAE,CAACC,GAAH,KAAWlB,MAAM,CAACG,OAAP,CAAee,GAA/C,CAAP;;AACF;AACE,aAAOnB,KAAP;AAdJ;AAgBD,CAjBM;AAoBP,OAAO,MAAMsB,YAAY,GAAG,CAACtB,KAAD,EAAQC,MAAR,KAAmB;AAC7C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,YAAL;AACE,YAAMe,OAAO,GAAGjB,KAAK,CAACY,IAAN,CAAYM,EAAD,IAAQA,EAAE,CAACC,GAAH,KAAWlB,MAAM,CAACG,OAAP,CAAee,GAA7C,CAAhB;;AACA,UAAI,CAACF,OAAL,EAAc;AACZ,cAAMM,KAAK,GAAG,CAAC,GAAGvB,KAAJ,EAAWC,MAAM,CAACG,OAAlB,CAAd;AACA,eAAOmB,KAAP;AACD,OAHD,MAGO;AACL,eAAOvB,KAAK,CAACqB,MAAN,CAAcH,EAAD,IAAQA,EAAE,CAACC,GAAH,KAAWlB,MAAM,CAACG,OAAP,CAAee,GAA/C,CAAP;AACD;;AACH,SAAK,iBAAL;AACE,aAAOlB,MAAM,CAACG,OAAd;;AACF,SAAK,aAAL;AACE,aAAOJ,KAAK,CAACqB,MAAN,CAAcH,EAAD,IAAQA,EAAE,CAACC,GAAH,KAAWlB,MAAM,CAACG,OAAP,CAAee,GAA/C,CAAP;;AACF;AACE,aAAOnB,KAAP;AAdJ;AAgBD,CAjBM;AAoBP,OAAO,MAAMwB,aAAa,GAAG,CAACxB,KAAK,GAAG;AAAEyB,EAAAA,KAAK,EAAE,CAAT;AAAYC,EAAAA,KAAK,EAAE;AAAnB,CAAT,EAAkCzB,MAAlC,KAA6C;AACxE,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,UAAL;AACE,YAAMe,OAAO,GAAGjB,KAAK,CAAC0B,KAAN,CAAYd,IAAZ,CAAkBM,EAAD,IAAQA,EAAE,CAACC,GAAH,KAAWlB,MAAM,CAACG,OAAP,CAAee,GAAnD,CAAhB;;AAEA,UAAIF,OAAJ,EAAa;AACX;AACA,cAAMU,UAAU,GAAG3B,KAAK,CAAC0B,KAAN,CAAYE,GAAZ,CAAiBV,EAAD,IAAQ;AACzC,cAAIA,EAAE,CAACC,GAAH,KAAWlB,MAAM,CAACG,OAAP,CAAee,GAA9B,EAAmC;AACjC,mBAAO,EACL,GAAGD,EADE;AAELW,cAAAA,QAAQ,EAAEX,EAAE,CAACW,QAAH,GAAc5B,MAAM,CAACG,OAAP,CAAeyB;AAFlC,aAAP;AAID;;AACD,iBAAOX,EAAP,CAPyC,CAO9B;AACZ,SARkB,CAAnB;AASA,cAAMY,UAAU,GAAGC,UAAU,CAACJ,UAAD,CAA7B;AACA,eAAO,EACL,GAAG3B,KADE;AAEL0B,UAAAA,KAAK,EAAEC,UAFF;AAGLF,UAAAA,KAAK,EAAEK;AAHF,SAAP;AAKD,OAjBD,MAiBO;AACL;AACA,cAAMjB,IAAI,GAAG,CAAC,GAAGb,KAAK,CAAC0B,KAAV,EAAiBzB,MAAM,CAACG,OAAxB,CAAb;AACA,cAAM0B,UAAU,GAAGC,UAAU,CAAClB,IAAD,CAA7B;AACA,eAAO,EACL,GAAGb,KADE;AAEL0B,UAAAA,KAAK,EAAE1B,KAAK,CAAC0B,KAAN,CAAYM,MAAZ,CAAmB/B,MAAM,CAACG,OAA1B,CAFF;AAGLqB,UAAAA,KAAK,EAAEK,UAHF;AAILG,UAAAA,MAAM,EAAEhC,MAAM,CAACG,OAAP,CAAe6B;AAJlB,SAAP;AAMD;;AACH,SAAK,WAAL;AACE,YAAMC,WAAW,GAAGlC,KAAK,CAAC0B,KAAN,CAAYE,GAAZ,CAAiBV,EAAD,IAAQ;AAC1C,YAAIA,EAAE,CAACC,GAAH,KAAWlB,MAAM,CAACG,OAAP,CAAee,GAA9B,EAAmC;AACjC,iBAAO,EAAE,GAAGD,EAAL;AAASW,YAAAA,QAAQ,EAAEX,EAAE,CAACW,QAAH,GAAc;AAAjC,WAAP;AACD;;AACD,eAAOX,EAAP;AACD,OALmB,CAApB;AAMA,YAAMiB,gBAAgB,GAAGJ,UAAU,CAACG,WAAD,CAAnC;AACA,aAAO;AACLR,QAAAA,KAAK,EAAEQ,WADF;AAELT,QAAAA,KAAK,EAAEU;AAFF,OAAP;;AAIF,SAAK,WAAL;AACE,YAAMC,gBAAgB,GAAGpC,KAAK,CAAC0B,KAAN,CAAYE,GAAZ,CAAiBV,EAAD,IAAQ;AAC/C,YAAIA,EAAE,CAACC,GAAH,KAAWlB,MAAM,CAACG,OAAP,CAAee,GAA9B,EAAmC;AACjC,cAAID,EAAE,CAACW,QAAH,GAAc,CAAlB,EAAqB;AACnB,mBAAO,EAAE,GAAGX,EAAL;AAASW,cAAAA,QAAQ,EAAEX,EAAE,CAACW,QAAH,GAAc;AAAjC,aAAP;AACD;AACF;;AACD,eAAOX,EAAP;AACD,OAPwB,CAAzB;AAQA,YAAMmB,qBAAqB,GAAGN,UAAU,CAACK,gBAAD,CAAxC;AACA,aAAO;AACLV,QAAAA,KAAK,EAAEU,gBADF;AAELX,QAAAA,KAAK,EAAEY;AAFF,OAAP;;AAIF,SAAK,kBAAL;AACE7B,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBR,MAAM,CAACG,OAA5B;AACA,aAAOH,MAAM,CAACG,OAAd;;AACF,SAAK,aAAL;AACE,YAAMkC,UAAU,GAAGtC,KAAK,CAAC0B,KAAN,CAAYL,MAAZ,CAChBH,EAAD,IAAQA,EAAE,CAACC,GAAH,KAAWlB,MAAM,CAACG,OAAP,CAAee,GADjB,CAAnB;AAGA,YAAMoB,WAAW,GAAGR,UAAU,CAACO,UAAD,CAA9B;AACA,aAAO,EACL,GAAGtC,KADE;AAEL0B,QAAAA,KAAK,EAAEY,UAFF;AAGLb,QAAAA,KAAK,EAAEc;AAHF,OAAP;;AAKF;AACE,aAAOvC,KAAP;AAxEJ;AA0ED,CA3EM;;AA6EP,MAAM+B,UAAU,GAAIlB,IAAD,IAAU;AAC3B,MAAI2B,MAAM,GAAG,CAAb;AACA3B,EAAAA,IAAI,CAAC4B,OAAL,CAAcvB,EAAD,IAAQ;AACnBsB,IAAAA,MAAM,IAAItB,EAAE,CAACW,QAAH,GAAcX,EAAE,CAACwB,KAA3B;AACD,GAFD;AAGA,SAAOF,MAAP;AACD,CAND;;AAQA,OAAO,MAAMG,cAAc,GAAG,CAAC3C,KAAD,EAAQC,MAAR,KAAmB;AAC/C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,oBAAL;AACE,YAAM0C,IAAI,GAAG3C,MAAM,CAACG,OAApB;AACA,aAAO,EACL,GAAGwC,IADE;AAELf,QAAAA,QAAQ,EAAE;AAFL,OAAP;;AAIF,SAAK,gBAAL;AACE,aAAO,EACL,GAAG7B,KADE;AAEL6B,QAAAA,QAAQ,EAAE7B,KAAK,CAAC6B,QAAN,GAAiB;AAFtB,OAAP;;AAIF,SAAK,gBAAL;AACE,UAAI7B,KAAK,CAAC6B,QAAN,GAAiB,CAArB,EAAwB;AACtB,eAAO,EAAE,GAAG7B,KAAL;AAAY6B,UAAAA,QAAQ,EAAE7B,KAAK,CAAC6B,QAAN,GAAiB;AAAvC,SAAP;AACD,OAFD,MAEO;AACL,eAAO,EAAE,GAAG7B,KAAL;AAAY6B,UAAAA,QAAQ,EAAE7B,KAAK,CAAC6B;AAA5B,SAAP;AACD;;AACH,SAAK,aAAL;AACE,aAAO5B,MAAM,CAACG,OAAd;;AACF,SAAK,aAAL;AACE,aAAOH,MAAM,CAACG,OAAd;;AACF;AACE,aAAOJ,KAAP;AAvBJ;AAyBD,CA1BM;AA4BP,OAAO,MAAM,CAAC6C,cAAD,EAAiBC,cAAjB,IAAmChD,eAAe,CAAC;AAC9DK,EAAAA,IAAI,EAAE,CAACJ,YAAD,EAAe,EAAf,CADwD;AAE9DgD,EAAAA,QAAQ,EAAE,CAACzC,eAAD,EAAkB,EAAlB,CAFoD;AAG9D0C,EAAAA,SAAS,EAAE,CAACjC,gBAAD,EAAmB,EAAnB,CAHmD;AAI9DQ,EAAAA,KAAK,EAAE,CAACD,YAAD,EAAe,EAAf,CAJuD;AAK9DF,EAAAA,MAAM,EAAE,CAACJ,aAAD,EAAgB,EAAhB,CALsD;AAM9DiC,EAAAA,OAAO,EAAE,CAACN,cAAD,EAAiB,EAAjB,CANqD;AAO9DO,EAAAA,IAAI,EAAE,CAAC3C,YAAD,EAAe,KAAf,CAPwD;AAQ9D4C,EAAAA,MAAM,EAAE,CAAC3B,aAAD,EAAgB;AAAEE,IAAAA,KAAK,EAAE,EAAT;AAAaD,IAAAA,KAAK,EAAE;AAApB,GAAhB;AARsD,CAAD,CAAxD","sourcesContent":["import combineReducers from \"react-combine-reducers\";\n\nexport const usersReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN_SUCCESS\":\n      const user = action.payload;\n      return {\n        user,\n        loggedIn: true,\n      };\n    case \"FACK_USER\":\n      return {\n        user: action.payload,\n        loggedIn: false,\n      };\n    case \"LOGOUT_USER\":\n      return action.payload;\n    case \"PASS_WRONG\":\n      return action.payload;\n    case \"EMAIL_WRONG\":\n      return action.payload;\n    case \"GET_USER_LOCAL\":\n      return action.payload;\n    default:\n      return state;\n  }\n};\n\nexport const productsReducer = (state, action) => {\n  switch (action.type) {\n    case \"FATCH_SUCCESS\":\n      return action.payload;\n    case \"SEARCH_DATA\":\n      return action.payload;\n    default:\n      return state;\n  }\n};\n\nexport const likesReducer = (state , action) => {\n  switch (action.type) {\n    case \"ADD_LIKE\":\n      console.log(\"likeProduct\", action.payload.likes)\n      const hasLike = action.payload.likes.some((item) => item === action.payload.likeProduct);\n      console.log(\"hasLike\", hasLike)\n      if (hasLike) {\n          console.log(\"state\", state)\n          return true\n        } else {\n          return false\n        }\n    default:\n      return state;\n  }\n};\n\n\nexport const discountsReducer = (state, action) => {\n  switch (action.type) {\n    case \"FATCH_SUCCESS_DISCOUNTS\":\n      return action.payload;\n      case \"GET_DISCOUNTS_LOCAL\":\n        return action.payload;\n    default:\n      return state;\n  }\n};\n\nexport const recentReducer = (state, action) => {\n  switch (action.type) {\n    case \"RECENT_ITEM\":\n      const hasItem = state.some((el) => el._id === action.payload._id);\n      if (!hasItem) {\n        const recent = [...state, action.payload];\n        return recent;\n      } else {\n        return state\n      }\n    case \"GET_RECENT_LOCAL\":\n      return action.payload;\n    case \"DELETE_ITEM_RECENT\":\n      return state.filter((el) => el._id !== action.payload._id);\n    default:\n      return state;\n  }\n};\n\n\nexport const watchReducer = (state, action) => {\n  switch (action.type) {\n    case \"WATCH_ITEM\":\n      const hasItem = state.some((el) => el._id === action.payload._id);\n      if (!hasItem) {\n        const watch = [...state, action.payload];\n        return watch;\n      } else {\n        return state.filter((el) => el._id !== action.payload._id);\n      }\n    case \"GET_WATCH_LOCAL\":\n      return action.payload;\n    case \"DELETE_ITEM\":\n      return state.filter((el) => el._id !== action.payload._id);\n    default:\n      return state;\n  }\n};\n\n\nexport const basketReducer = (state = { total: 0, items: [] }, action) => {\n  switch (action.type) {\n    case \"ADD_ITEM\":\n      const hasItem = state.items.some((el) => el._id === action.payload._id);\n\n      if (hasItem) {\n        // update item\n        const updateItem = state.items.map((el) => {\n          if (el._id === action.payload._id) {\n            return {\n              ...el,\n              quantity: el.quantity + action.payload.quantity,\n            };\n          }\n          return el; // <-- return current mapped element if no change\n        });\n        const totalPrice = totalprice(updateItem);\n        return {\n          ...state,\n          items: updateItem,\n          total: totalPrice,\n        };\n      } else {\n        // add item\n        const item = [...state.items, action.payload];\n        const totalPrice = totalprice(item);\n        return {\n          ...state,\n          items: state.items.concat(action.payload),\n          total: totalPrice,\n          userId: action.payload.userId,\n        };\n      }\n    case \"INCROMENT\":\n      const updateItems = state.items.map((el) => {\n        if (el._id === action.payload._id) {\n          return { ...el, quantity: el.quantity + 1 };\n        }\n        return el;\n      });\n      const totalsupdateItem = totalprice(updateItems);\n      return {\n        items: updateItems,\n        total: totalsupdateItem,\n      };\n    case \"DECROMENT\":\n      const updateItemsminus = state.items.map((el) => {\n        if (el._id === action.payload._id) {\n          if (el.quantity > 1) {\n            return { ...el, quantity: el.quantity - 1 };\n          }\n        }\n        return el;\n      });\n      const totalsupdateItemminus = totalprice(updateItemsminus);\n      return {\n        items: updateItemsminus,\n        total: totalsupdateItemminus,\n      };\n    case \"GET_BASKET_LOCAL\":\n      console.log(\"local\", action.payload);\n      return action.payload;\n    case \"DELETE_ITEM\":\n      const deleteiTEM = state.items.filter(\n        (el) => el._id !== action.payload._id\n      );\n      const totalPriceD = totalprice(deleteiTEM);\n      return {\n        ...state,\n        items: deleteiTEM,\n        total: totalPriceD,\n      };\n    default:\n      return state;\n  }\n};\n\nconst totalprice = (item) => {\n  var totals = 0;\n  item.forEach((el) => {\n    totals += el.quantity * el.price;\n  });\n  return totals;\n};\n\nexport const productReducer = (state, action) => {\n  switch (action.type) {\n    case \"FATCH_SUCCESS_ITEM\":\n      const data = action.payload;\n      return {\n        ...data,\n        quantity: 1,\n      };\n    case \"INCROMENT_ITEM\":\n      return {\n        ...state,\n        quantity: state.quantity + 1,\n      };\n    case \"DECROMENT_ITEM\":\n      if (state.quantity > 1) {\n        return { ...state, quantity: state.quantity - 1 };\n      } else {\n        return { ...state, quantity: state.quantity };\n      }\n    case \"DELETE_ITEM\":\n      return action.payload;\n    case \"UPDATE_ITEM\":\n      return action.payload;\n    default:\n      return state;\n  }\n};\n\nexport const [profileReducer, initialProfile] = combineReducers({\n  user: [usersReducer, {}],\n  products: [productsReducer, []],\n  discounts: [discountsReducer, []],\n  watch: [watchReducer, []],\n  recent: [recentReducer, []],\n  product: [productReducer, []],\n  like: [likesReducer, false],\n  basket: [basketReducer, { items: [], total: 0 }],\n});\n"]},"metadata":{},"sourceType":"module"}