{"ast":null,"code":"var _jsxFileName = \"/Users/noureddinnasrallah/Documents/online-shop-frontend/src/components/cardsList/Card3D.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { motion, useSpring, useMotionValue, useTransform } from \"framer-motion\";\nimport { interpolate } from \"@popmotion/popcorn\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  border-radius: 8px;\n  transform-style: preserve-3d;\n  transform: perspective(921px);\n  width: 600px;\n  height: 600px;\n  margin: 2rem;\n`;\n_c = Container;\nconst Content = styled(motion.div)`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 8px;\n  transform-style: preserve-3d;\n  perspective: 800px;\n  backface-visibility: hidden;\n`;\n_c2 = Content;\nconst Shadow = styled.div`\n  position: absolute;\n  top: 5%;\n  left: 5%;\n  width: 90%;\n  border-radius: 1rem;\n  height: 90%;\n  transition: all 0.2s ease-out 0s;\n  box-shadow: rgba(0, 0, 0, 06) 0px 50px 100px -30px;\n`;\n_c3 = Shadow;\nconst RelativeContainer = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 1rem;\n  overflow: hidden;\n  transform-style: preserve-3d;\n  perspective: 800px;\n  backface-visibility: hidden;\n`;\n_c4 = RelativeContainer;\nconst Image = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  transform: translateZ(0);\n  bottom: 0;\n  background-size: cover;\n  border-radius: 1rem;\n  background-image: url(https://images.unsplash.com/photo-1571178109673-2686d60d6cba?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80);\n`;\n_c5 = Image;\nconst Gradient = styled(motion.div)`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  transition: all 0.5s ease;\n`;\n_c6 = Gradient;\n\nfunction Card3D({}) {\n  _s();\n\n  const ref = useRef();\n  const [hover, setHover] = useState(false);\n  const [tapped, setTapped] = useState(false); // middle point in 2d space [150, 250]\n\n  const centerPoint = [width / 2, height / 2];\n  const xy = useMotionValue(centerPoint); // how much should we rotate?\n\n  const tx = 0.05; // get rotateY\n\n  const transformX = interpolate([0, width], [width * tx, width * tx * -1]);\n  const rotateY = useTransform(xy, ([x]) => transformX(x)); // get rotateX\n\n  const transformY = interpolate([0, height], [height * tx * -1, height * tx * 1]);\n  const rotateX = useTransform(xy, ([, y]) => transformY(y));\n  const config = {\n    stiffness: 150,\n    damping: 20\n  }; // get our spring values\n\n  const springX = useSpring(rotateX, config);\n  const springY = useSpring(rotateY, config); // this is a bit cumbersome...\n\n  const gradientOpacity = useTransform(xy, ([, y]) => {\n    return interpolate([0, height], [0, 0.3])(y);\n  });\n  const gradientOpacitySpring = useSpring(gradientOpacity, config); // how can we animate the degree using a spring too?\n\n  const gradient = useTransform(gradientOpacitySpring, opacity => {\n    // ideally we could also animate our degree value too...\n    let [x, y] = xy.get(); // whyy is this necessary? otherwise our center point renders the gradient\n    // at -70? I'm too tired to do the math\n\n    if (y === centerPoint[1]) {\n      y = centerPoint[1] + 1;\n    }\n\n    const angle = Math.atan2(y - centerPoint[1], x - centerPoint[0]);\n    const degree = (angle > 0 ? angle : 2 * Math.PI + angle) * 360 / (2 * Math.PI) - 90;\n    return `linear-gradient(${degree}deg, rgba(255,255,255,${opacity}), rgba(255,255,255,0) 80%)`;\n  });\n\n  function onMouseOver(e) {\n    if (tapped) return;\n    const rect = e.target.getBoundingClientRect();\n    xy.set([e.clientX - rect.left, e.clientY - rect.top]);\n  }\n\n  function hoverStart() {\n    setHover(true);\n  }\n\n  function hoverEnd() {\n    setHover(false);\n  }\n\n  useEffect(() => {\n    // if not hovering, reset to\n    // our centerpoint.\n    if (!hover) {\n      xy.set(centerPoint);\n    }\n  }, [hover, xy, centerPoint]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    ref: ref,\n    style: {\n      height: `${height}px`,\n      width: `${width}px`\n    },\n    children: /*#__PURE__*/_jsxDEV(Content, {\n      style: {\n        scale: 1,\n        rotateX: springX,\n        rotateY: springY\n      },\n      whileHover: {\n        scale: 1.03\n      },\n      whileTap: {\n        scale: 0.97\n      },\n      onTapCancel: e => {\n        setTapped(false);\n        onMouseOver(e);\n      },\n      onTapStart: () => {\n        setTapped(true);\n      },\n      onTap: e => {\n        setTapped(false);\n      },\n      onHoverStart: hoverStart,\n      onHoverEnd: hoverEnd,\n      onMouseMove: onMouseOver,\n      children: [/*#__PURE__*/_jsxDEV(Shadow, {\n        hover: hover\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RelativeContainer, {\n        children: /*#__PURE__*/_jsxDEV(Image, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Gradient, {\n        style: {\n          background: gradient\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Card3D, \"vGBDHxVb8o7Ru3zPqjJ8rJLCh0M=\", false, function () {\n  return [useMotionValue, useTransform, useTransform, useSpring, useSpring, useTransform, useSpring, useTransform];\n});\n\n_c7 = Card3D;\nexport default Card3D;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Content\");\n$RefreshReg$(_c3, \"Shadow\");\n$RefreshReg$(_c4, \"RelativeContainer\");\n$RefreshReg$(_c5, \"Image\");\n$RefreshReg$(_c6, \"Gradient\");\n$RefreshReg$(_c7, \"Card3D\");","map":{"version":3,"sources":["/Users/noureddinnasrallah/Documents/online-shop-frontend/src/components/cardsList/Card3D.js"],"names":["React","useRef","useState","useEffect","styled","motion","useSpring","useMotionValue","useTransform","interpolate","Container","div","Content","Shadow","RelativeContainer","Image","Gradient","Card3D","ref","hover","setHover","tapped","setTapped","centerPoint","width","height","xy","tx","transformX","rotateY","x","transformY","rotateX","y","config","stiffness","damping","springX","springY","gradientOpacity","gradientOpacitySpring","gradient","opacity","get","angle","Math","atan2","degree","PI","onMouseOver","e","rect","target","getBoundingClientRect","set","clientX","left","clientY","top","hoverStart","hoverEnd","scale","background"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { motion, useSpring, useMotionValue, useTransform } from \"framer-motion\";\nimport { interpolate } from \"@popmotion/popcorn\";\n\nconst Container = styled.div`\n  border-radius: 8px;\n  transform-style: preserve-3d;\n  transform: perspective(921px);\n  width: 600px;\n  height: 600px;\n  margin: 2rem;\n`;\n\nconst Content = styled(motion.div)`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 8px;\n  transform-style: preserve-3d;\n  perspective: 800px;\n  backface-visibility: hidden;\n`;\n\nconst Shadow = styled.div`\n  position: absolute;\n  top: 5%;\n  left: 5%;\n  width: 90%;\n  border-radius: 1rem;\n  height: 90%;\n  transition: all 0.2s ease-out 0s;\n  box-shadow: rgba(0, 0, 0, 06) 0px 50px 100px -30px;\n`;\n\nconst RelativeContainer = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 1rem;\n  overflow: hidden;\n  transform-style: preserve-3d;\n  perspective: 800px;\n  backface-visibility: hidden;\n`;\n\nconst Image = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  transform: translateZ(0);\n  bottom: 0;\n  background-size: cover;\n  border-radius: 1rem;\n  background-image: url(https://images.unsplash.com/photo-1571178109673-2686d60d6cba?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80);\n`;\n\nconst Gradient = styled(motion.div)`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  transition: all 0.5s ease;\n`;\n\nfunction Card3D({ }) {\n  const ref = useRef();\n  const [hover, setHover] = useState(false);\n  const [tapped, setTapped] = useState(false);\n\n  // middle point in 2d space [150, 250]\n  const centerPoint = [width / 2, height / 2];\n  const xy = useMotionValue(centerPoint);\n\n  // how much should we rotate?\n  const tx = 0.05;\n\n  // get rotateY\n  const transformX = interpolate([0, width], [width * tx, width * tx * -1]);\n  const rotateY = useTransform(xy, ([x]) => transformX(x));\n\n  // get rotateX\n  const transformY = interpolate(\n    [0, height],\n    [height * tx * -1, height * tx * 1]\n  );\n  const rotateX = useTransform(xy, ([, y]) => transformY(y));\n\n  const config = {\n    stiffness: 150,\n    damping: 20\n  };\n\n  // get our spring values\n  const springX = useSpring(rotateX, config);\n  const springY = useSpring(rotateY, config);\n\n  // this is a bit cumbersome...\n  const gradientOpacity = useTransform(xy, ([, y]) => {\n    return interpolate([0, height], [0, 0.3])(y);\n  });\n\n  const gradientOpacitySpring = useSpring(gradientOpacity, config);\n\n  // how can we animate the degree using a spring too?\n  const gradient = useTransform(gradientOpacitySpring, opacity => {\n    // ideally we could also animate our degree value too...\n    let [x, y] = xy.get();\n    // whyy is this necessary? otherwise our center point renders the gradient\n    // at -70? I'm too tired to do the math\n    if (y === centerPoint[1]) {\n      y = centerPoint[1] + 1;\n    }\n\n    const angle = Math.atan2(y - centerPoint[1], x - centerPoint[0]);\n    const degree =\n      ((angle > 0 ? angle : 2 * Math.PI + angle) * 360) / (2 * Math.PI) - 90;\n    return `linear-gradient(${degree}deg, rgba(255,255,255,${opacity}), rgba(255,255,255,0) 80%)`;\n  });\n\n  function onMouseOver(e) {\n    if (tapped) return;\n    const rect = e.target.getBoundingClientRect();\n    xy.set([e.clientX - rect.left, e.clientY - rect.top]);\n  }\n\n  function hoverStart() {\n    setHover(true);\n  }\n\n  function hoverEnd() {\n    setHover(false);\n  }\n\n  useEffect(() => {\n    // if not hovering, reset to\n    // our centerpoint.\n    if (!hover) {\n      xy.set(centerPoint);\n    }\n  }, [hover, xy, centerPoint]);\n\n  return (\n    <Container ref={ref} style={{ height: `${height}px`, width: `${width}px` }}>\n      <Content\n        style={{\n          scale: 1,\n          rotateX: springX,\n          rotateY: springY\n        }}\n        whileHover={{\n          scale: 1.03\n        }}\n        whileTap={{\n          scale: 0.97\n        }}\n        onTapCancel={e => {\n          setTapped(false);\n          onMouseOver(e);\n        }}\n        onTapStart={() => {\n          setTapped(true);\n        }}\n        onTap={e => {\n          setTapped(false);\n        }}\n        onHoverStart={hoverStart}\n        onHoverEnd={hoverEnd}\n        onMouseMove={onMouseOver}\n      >\n        <Shadow hover={hover} />\n        <RelativeContainer>\n          <Image />\n        </RelativeContainer>\n        <Gradient\n          style={{\n            background: gradient\n          }}\n        />\n      </Content>\n    </Container>\n  );\n}\n\nexport default Card3D\n"]},"metadata":{},"sourceType":"module"}