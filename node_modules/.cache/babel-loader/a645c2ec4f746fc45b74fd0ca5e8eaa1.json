{"ast":null,"code":"var _jsxFileName = \"/Users/noureddinnasrallah/Documents/online-shop-frontend/src/components/cardsList/Card3D.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { motion, useSpring, useMotionValue, useTransform } from \"framer-motion\";\nimport { interpolate } from \"@popmotion/popcorn\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container3D = styled.div`\n  border-radius: 8px;\n  transform-style: preserve-3d;\n  transform: perspective(921px);\n  width: 200px;\n  height: 200px;\n  margin: 2rem;\n`;\nconst Content3D = styled(motion.div)`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 8px;\n  transform-style: preserve-3d;\n  perspective: 800px;\n  backface-visibility: hidden;\n`;\nconst Shadow3D = styled.div`\n  position: absolute;\n  top: 5%;\n  left: 5%;\n  width: 90%;\n  border-radius: 1rem;\n  height: 90%;\n  transition: all 0.2s ease-out 0s;\n  box-shadow: rgba(0, 0, 0, 06) 0px 50px 100px -30px;\n`;\nconst RelativeContainer3D = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 1rem;\n  overflow: hidden;\n  transform-style: preserve-3d;\n  perspective: 800px;\n  backface-visibility: hidden;\n`;\nconst Image3D = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  transform: translateZ(0);\n  bottom: 0;\n  background-size: cover;\n  border-radius: 1rem;\n  background-image: url(https://images.unsplash.com/photo-1571178109673-2686d60d6cba?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80);\n`;\nconst Gradient3D = styled(motion.div)`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  transition: all 0.5s ease;\n`;\n\nfunction Card3D({\n  height = 600,\n  width = 600\n}) {\n  _s();\n\n  const ref = useRef();\n  const [hover, setHover] = useState(false);\n  const [tapped, setTapped] = useState(false); // middle point in 2d space [150, 250]\n\n  const centerPoint = [width / 2, height / 2];\n  const xy = useMotionValue(centerPoint); // how much should we rotate?\n\n  const tx = 0.02; // get rotateY\n\n  const transformX = interpolate([0, width], [width * tx, width * tx * -1]);\n  const rotateY = useTransform(xy, ([x]) => transformX(x)); // get rotateX\n\n  const transformY = interpolate([0, height], [height * tx * -1, height * tx * 1]);\n  const rotateX = useTransform(xy, ([, y]) => transformY(y));\n  const config = {\n    stiffness: 150,\n    damping: 20\n  }; // get our spring values\n\n  const springX = useSpring(rotateX, config);\n  const springY = useSpring(rotateY, config); // this is a bit cumbersome...\n\n  const gradientOpacity = useTransform(xy, ([, y]) => {\n    return interpolate([0, height], [0, 0.3])(y);\n  });\n  const gradientOpacitySpring = useSpring(gradientOpacity, config); // how can we animate the degree using a spring too?\n\n  const gradient = useTransform(gradientOpacitySpring, opacity => {\n    // ideally we could also animate our degree value too...\n    let [x, y] = xy.get(); // whyy is this necessary? otherwise our center point renders the gradient\n    // at -70? I'm too tired to do the math\n\n    if (y === centerPoint[1]) {\n      y = centerPoint[1] + 1;\n    }\n\n    const angle = Math.atan2(y - centerPoint[1], x - centerPoint[0]);\n    const degree = (angle > 0 ? angle : 2 * Math.PI + angle) * 360 / (2 * Math.PI) - 90;\n    return `linear-gradient(${degree}deg, rgba(255,255,255,${opacity}), rgba(255,255,255,0) 80%)`;\n  });\n\n  function onMouseOver(e) {\n    if (tapped) return;\n    const rect = e.target.getBoundingClientRect();\n    xy.set([e.clientX - rect.left, e.clientY - rect.top]);\n  }\n\n  function hoverStart() {\n    setHover(true);\n  }\n\n  function hoverEnd() {\n    setHover(false);\n  }\n\n  useEffect(() => {\n    // if not hovering, reset to\n    // our centerpoint.\n    if (!hover) {\n      xy.set(centerPoint);\n    }\n  }, [hover, xy, centerPoint]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Container3D\",\n    ref: ref,\n    style: {\n      height: `${height}px`,\n      width: `${width}px`\n    },\n    children: /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"Content3D\",\n      style: {\n        scale: 1,\n        rotateX: springX,\n        rotateY: springY\n      },\n      whileHover: {\n        scale: 1.03\n      },\n      whileTap: {\n        scale: 0.97\n      },\n      onTapCancel: e => {\n        setTapped(false);\n        onMouseOver(e);\n      },\n      onTapStart: () => {\n        setTapped(true);\n      },\n      onTap: e => {\n        setTapped(false);\n      },\n      onHoverStart: hoverStart,\n      onHoverEnd: hoverEnd,\n      onMouseMove: onMouseOver,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Shadow3D\",\n        hover: hover\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"RelativeContainer3D\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Image3D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"Gradient3D\",\n        style: {\n          background: gradient\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Card3D, \"vGBDHxVb8o7Ru3zPqjJ8rJLCh0M=\", false, function () {\n  return [useMotionValue, useTransform, useTransform, useSpring, useSpring, useTransform, useSpring, useTransform];\n});\n\n_c = Card3D;\nexport default Card3D;\n\nvar _c;\n\n$RefreshReg$(_c, \"Card3D\");","map":{"version":3,"sources":["/Users/noureddinnasrallah/Documents/online-shop-frontend/src/components/cardsList/Card3D.js"],"names":["React","useRef","useState","useEffect","styled","motion","useSpring","useMotionValue","useTransform","interpolate","Container3D","div","Content3D","Shadow3D","RelativeContainer3D","Image3D","Gradient3D","Card3D","height","width","ref","hover","setHover","tapped","setTapped","centerPoint","xy","tx","transformX","rotateY","x","transformY","rotateX","y","config","stiffness","damping","springX","springY","gradientOpacity","gradientOpacitySpring","gradient","opacity","get","angle","Math","atan2","degree","PI","onMouseOver","e","rect","target","getBoundingClientRect","set","clientX","left","clientY","top","hoverStart","hoverEnd","scale","background"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { motion, useSpring, useMotionValue, useTransform } from \"framer-motion\";\nimport { interpolate } from \"@popmotion/popcorn\";\n\nconst Container3D = styled.div`\n  border-radius: 8px;\n  transform-style: preserve-3d;\n  transform: perspective(921px);\n  width: 200px;\n  height: 200px;\n  margin: 2rem;\n`;\n\nconst Content3D = styled(motion.div)`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 8px;\n  transform-style: preserve-3d;\n  perspective: 800px;\n  backface-visibility: hidden;\n`;\n\nconst Shadow3D = styled.div`\n  position: absolute;\n  top: 5%;\n  left: 5%;\n  width: 90%;\n  border-radius: 1rem;\n  height: 90%;\n  transition: all 0.2s ease-out 0s;\n  box-shadow: rgba(0, 0, 0, 06) 0px 50px 100px -30px;\n`;\n\nconst RelativeContainer3D = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 1rem;\n  overflow: hidden;\n  transform-style: preserve-3d;\n  perspective: 800px;\n  backface-visibility: hidden;\n`;\n\nconst Image3D = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  transform: translateZ(0);\n  bottom: 0;\n  background-size: cover;\n  border-radius: 1rem;\n  background-image: url(https://images.unsplash.com/photo-1571178109673-2686d60d6cba?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80);\n`;\n\nconst Gradient3D = styled(motion.div)`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  transition: all 0.5s ease;\n`;\n\nfunction Card3D({ height = 600, width = 600 }) {\n  const ref = useRef();\n  const [hover, setHover] = useState(false);\n  const [tapped, setTapped] = useState(false);\n\n  // middle point in 2d space [150, 250]\n  const centerPoint = [width / 2, height / 2];\n  const xy = useMotionValue(centerPoint);\n\n  // how much should we rotate?\n  const tx = 0.02;\n\n  // get rotateY\n  const transformX = interpolate([0, width], [width * tx, width * tx * -1]);\n  const rotateY = useTransform(xy, ([x]) => transformX(x));\n\n  // get rotateX\n  const transformY = interpolate(\n    [0, height],\n    [height * tx * -1, height * tx * 1]\n  );\n  const rotateX = useTransform(xy, ([, y]) => transformY(y));\n\n  const config = {\n    stiffness: 150,\n    damping: 20\n  };\n\n  // get our spring values\n  const springX = useSpring(rotateX, config);\n  const springY = useSpring(rotateY, config);\n\n  // this is a bit cumbersome...\n  const gradientOpacity = useTransform(xy, ([, y]) => {\n    return interpolate([0, height], [0, 0.3])(y);\n  });\n\n  const gradientOpacitySpring = useSpring(gradientOpacity, config);\n\n  // how can we animate the degree using a spring too?\n  const gradient = useTransform(gradientOpacitySpring, opacity => {\n    // ideally we could also animate our degree value too...\n    let [x, y] = xy.get();\n    // whyy is this necessary? otherwise our center point renders the gradient\n    // at -70? I'm too tired to do the math\n    if (y === centerPoint[1]) {\n      y = centerPoint[1] + 1;\n    }\n\n    const angle = Math.atan2(y - centerPoint[1], x - centerPoint[0]);\n    const degree =\n      ((angle > 0 ? angle : 2 * Math.PI + angle) * 360) / (2 * Math.PI) - 90;\n    return `linear-gradient(${degree}deg, rgba(255,255,255,${opacity}), rgba(255,255,255,0) 80%)`;\n  });\n\n  function onMouseOver(e) {\n    if (tapped) return;\n    const rect = e.target.getBoundingClientRect();\n    xy.set([e.clientX - rect.left, e.clientY - rect.top]);\n  }\n\n  function hoverStart() {\n    setHover(true);\n  }\n\n  function hoverEnd() {\n    setHover(false);\n  }\n\n  useEffect(() => {\n    // if not hovering, reset to\n    // our centerpoint.\n    if (!hover) {\n      xy.set(centerPoint);\n    }\n  }, [hover, xy, centerPoint]);\n\n  return (\n    <div className=\"Container3D\" ref={ref} style={{ height: `${height}px`, width: `${width}px` }}>\n          <motion.div\n        className=\"Content3D\"\n        style={{\n          scale: 1,\n          rotateX: springX,\n          rotateY: springY\n        }}\n        whileHover={{\n          scale: 1.03\n        }}\n        whileTap={{\n          scale: 0.97\n        }}\n        onTapCancel={e => {\n          setTapped(false);\n          onMouseOver(e);\n        }}\n        onTapStart={() => {\n          setTapped(true);\n        }}\n        onTap={e => {\n          setTapped(false);\n        }}\n        onHoverStart={hoverStart}\n        onHoverEnd={hoverEnd}\n        onMouseMove={onMouseOver}\n      >\n        <div className=\"Shadow3D\" hover={hover} />\n        <div className=\"RelativeContainer3D\">\n          <div className=\"Image3D\"></div>\n        </div>\n        <motion.div className=\"Gradient3D\"\n          style={{\n            background: gradient\n          }}\n        />\n      </motion.div>\n    </div>\n  );\n}\n\nexport default Card3D\n"]},"metadata":{},"sourceType":"module"}