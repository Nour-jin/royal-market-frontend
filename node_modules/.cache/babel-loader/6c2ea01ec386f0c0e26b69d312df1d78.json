{"ast":null,"code":"export const reducer = (state, action) => {\n  switch (action.type) {\n    case \"FATCH_SUCCESS\":\n      return action.payload;\n\n    default:\n      return state;\n  }\n};\nexport const watchReducer = (state, action) => {\n  switch (action.type) {\n    case \"GETS_DATA_COMPLETED\":\n      return action.payload.filter(event => event.completed === true);\n\n    default:\n      return state;\n  }\n};\nexport const basketReducer = (state = {\n  total: 0,\n  items: []\n}, action) => {\n  switch (action.type) {\n    case \"ADD_ITEM\":\n      const item = [...state.items, action.payload];\n      const updateBasket = item.map(el => {\n        if (el._id === action.payload._id) {\n          let qui = el.quantity += action.payload.quantity;\n          console.log('plus', qui);\n          return { ...el,\n            qui\n          };\n        }\n\n        console.log('id', el.quantity, action.payload.quantity);\n      });\n      console.log('quntity', updateBasket);\n      const totals = totalprice(item);\n      return {\n        items: updateBasket,\n        total: totals\n      };\n\n    case \"INCROMENT\":\n      const updateItems = state.items.map(el => {\n        if (el._id === action.payload._id) {\n          el.quantity = el.quantity + 1;\n        }\n\n        console.log('map', el);\n        return el;\n      });\n      console.log('INCROMENT', updateItems);\n      const totalsupdateItem = totalprice(updateItems);\n      return {\n        items: updateItems,\n        total: totalsupdateItem\n      };\n\n    case \"DECROMENT\":\n      const updateItemsminus = state.items.map(el => {\n        if (el._id === action.payload._id) {\n          if (el.quantity > 1) {\n            el.quantity -= 1;\n          }\n        }\n\n        return el;\n      });\n      const totalsupdateItemminus = totalprice(updateItemsminus);\n      return {\n        items: updateItemsminus,\n        total: totalsupdateItemminus\n      };\n\n    case \"GET_BASKET_LOCAL\":\n      console.log('local', action.payload);\n      return action.payload;\n\n    default:\n      return state;\n  }\n};\n\nconst totalprice = item => {\n  var totals = 0;\n  item.forEach(el => {\n    totals += el.quantity * el.price;\n  });\n  return totals;\n};\n\nexport const itemReducer = (state, action) => {\n  switch (action.type) {\n    case \"FATCH_SUCCESS\":\n      const data = action.payload;\n      return { ...data,\n        quantity: 1\n      };\n\n    case \"TOGGLE_WATCH\":\n      return { ...state,\n        completed: !action.payload.completed\n      };\n\n    case \"TOGGLE_BASKET\":\n      return { ...state,\n        basket: !action.payload.basket\n      };\n\n    case \"INCROMENT\":\n      return { ...state,\n        quantity: state.quantity + 1\n      };\n\n    case \"DECROMENT\":\n      if (state.quantity > 1) {\n        return { ...state,\n          quantity: state.quantity - 1\n        };\n      } else {\n        return { ...state,\n          quantity: state.quantity\n        };\n      }\n\n    case \"DELETE_ITEM\":\n      return action.payload;\n\n    case \"UPDATE_ITEM\":\n      return action.payload;\n\n    default:\n      return state;\n  }\n};\nexport const usersReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN_SUCCESS\":\n      const user = action.payload;\n      return {\n        user,\n        loggedIn: true\n      };\n\n    case \"LOGOUT_USER\":\n      return action.payload;\n\n    case \"PASS_WRONG\":\n      return action.payload;\n\n    case \"EMAIL_WRONG\":\n      return action.payload;\n\n    case \"GET_USER_LOCAL\":\n      return action.payload;\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/Users/noureddinnasrallah/Documents/online-shop-frontend/src/components/reducers/reducer.js"],"names":["reducer","state","action","type","payload","watchReducer","filter","event","completed","basketReducer","total","items","item","updateBasket","map","el","_id","qui","quantity","console","log","totals","totalprice","updateItems","totalsupdateItem","updateItemsminus","totalsupdateItemminus","forEach","price","itemReducer","data","basket","usersReducer","user","loggedIn"],"mappings":"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","sourcesContent":["export const reducer = (state, action) => {\n  switch (action.type) {\n    case \"FATCH_SUCCESS\":\n      return action.payload;\n    default:\n      return state;\n  }\n};\n\nexport const watchReducer = (state, action) => {\n  switch (action.type) {\n    case \"GETS_DATA_COMPLETED\":\n      return action.payload.filter((event) => event.completed === true);\n    default:\n      return state;\n  }\n};\n\nexport const basketReducer = (state = { total:0, items:[]}, action) => {\n  switch (action.type) {\n    case \"ADD_ITEM\":\n      const item = [...state.items, action.payload]\n    const updateBasket = item.map(el => {\n      if (el._id === action.payload._id) {\n        let qui = el.quantity += action.payload.quantity\n        console.log('plus', qui)\n       return {...el,  qui}\n     \n      }\n      console.log('id',el.quantity, action.payload.quantity)\n        \n    })\n    console.log('quntity', updateBasket)\n     const totals = totalprice(item)\n      return {\n        items: updateBasket , \n        total: totals,\n      }\n    case \"INCROMENT\":\n      const updateItems = state.items.map(el => {\n        if (el._id === action.payload._id) {\n         el.quantity = el.quantity +1\n        }\n        console.log('map', el)\n        return el\n        \n      })\n      console.log('INCROMENT', updateItems)\n      const totalsupdateItem = totalprice(updateItems)\n      return {\n        items: updateItems,\n        total: totalsupdateItem\n      }\n      case \"DECROMENT\":\n        const updateItemsminus = state.items.map(el => {\n          if (el._id === action.payload._id) {\n            if (el.quantity > 1) {\n               el.quantity -= 1\n            }\n          }\n          return el\n        })\n        const totalsupdateItemminus = totalprice(updateItemsminus)\n        return {\n          items: updateItemsminus,\n          total: totalsupdateItemminus\n        }\n    case \"GET_BASKET_LOCAL\":\n      console.log('local', action.payload)\n     return action.payload\n      \n    default:\n      return state;\n  }\n};\n\nconst totalprice = (item) => {\n  var totals = 0;\n      item.forEach(el => {\n        totals += el.quantity * el.price\n      })\n  return totals\n}\n\n\n\nexport const itemReducer = (state , action) => {\n  switch (action.type) {\n    case \"FATCH_SUCCESS\":\n      const data = action.payload\n      return {\n        ...data,\n        quantity: 1\n      };\n    case \"TOGGLE_WATCH\":\n      return {\n        ...state,\n        completed: !action.payload.completed,\n      };\n      case \"TOGGLE_BASKET\":\n        return {\n          ...state,\n          basket: !action.payload.basket,\n        };\n    case \"INCROMENT\":\n      return {\n        ...state,\n        quantity: state.quantity + 1\n      }\n    case \"DECROMENT\":\n      if (state.quantity > 1) {\n         return {...state,\n          quantity: state.quantity - 1\n            };\n      } else {\n       return {...state, quantity: state.quantity}\n      }\n    case \"DELETE_ITEM\":\n      return action.payload;\n    case \"UPDATE_ITEM\":\n      return action.payload;\n    default:\n      return state;\n  }\n};\n\nexport const usersReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN_SUCCESS\":\n      const user = action.payload\n      return {\n        user,\n        loggedIn:true\n      };\n    case \"LOGOUT_USER\":\n      return action.payload\n    case \"PASS_WRONG\":\n      return action.payload\n    case \"EMAIL_WRONG\":\n      return action.payload\n    case \"GET_USER_LOCAL\":\n      return action.payload\n    default:\n      return state;\n  }\n  \n}\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}